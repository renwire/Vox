<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Vox Documentation</title>
<link rel="stylesheet" href="/static/styles.css" />
<style>
:root {
  --md-sys-color-primary: #5BCEFA;
  --md-sys-color-on-primary: #FFFFFF;
  --md-sys-color-primary-container: #E3F6FE;
  --md-sys-color-on-primary-container: #003544;

  --md-sys-color-secondary: #F5A9B8;
  --md-sys-color-on-secondary: #000000;
  --md-sys-color-secondary-container: #FFE3EB;
  --md-sys-color-on-secondary-container: #3D1F25;

  --md-sys-color-background: #FFFFFF;
  --md-sys-color-on-background: #1B2A3B;

  --md-sys-color-surface: #F0F0F0;
  --md-sys-color-on-surface: #1C1B1F;

  --md-sys-color-surface-variant: #E7E0EC;
  --md-sys-color-on-surface-variant: #49454F;

  --md-sys-color-error: #E53935;
  --md-sys-color-on-error: #FFFFFF;

  --md-sys-shape-corner-medium: 12px;
}

body {
  font-family: Roboto, sans-serif;
  margin: 0;
  background: var(--md-sys-color-background);
  color: var(--md-sys-color-on-background);
}

header {
  background: var(--md-sys-color-primary);
  color: var(--md-sys-color-on-primary);
  padding: 1rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

h1 {
  margin: 0;
  font-size: 2rem;
  font-weight: 700;
}

h2 {
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 1rem;
}

h3 {
  font-size: 1.25rem;
  font-weight: 500;
  margin-top: 1rem;
}

.md3-tabs {
  display: flex;
  border-bottom: 1px solid var(--md-sys-color-outline, #ccc);
  background: var(--md-sys-color-surface);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.md3-tab {
  flex: 1;
  padding: 1rem;
  text-align: center;
  cursor: pointer;
  font-weight: 500;
  font-size: 0.95rem;
  transition: background 0.3s, color 0.3s;
  border-radius: var(--md-sys-shape-corner-medium) var(--md-sys-shape-corner-medium) 0 0;
  color: var(--md-sys-color-on-surface);
}

.md3-tab:hover {
  background: var(--md-sys-color-surface-variant);
}

.md3-tab.active {
  background: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
  border-bottom: 3px solid var(--md-sys-color-primary);
}

.tab-content {
  display: none;
  padding: 1rem;
  max-width: 1200px;
  margin: auto;
  background: var(--md-sys-color-surface);
  color: var(--md-sys-color-on-surface);
  border-radius: var(--md-sys-shape-corner-medium);
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.tab-content.active {
  display: block;
}

pre {
  background: #f4f4f4;
  padding: 1em;
  overflow-x: auto;
  border-radius: var(--md-sys-shape-corner-medium);
}

code {
  font-family: monospace;
}

footer {
  text-align: center;
  margin: 2em 0;
  font-size: 1em;
  color: var(--md-sys-color-on-surface-variant);
  padding: 1em;
}

svg {
  max-width: 100%;
  height: auto;
  margin: 2em 0;
}

</style>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const tabs = document.querySelectorAll('.md3-tab');
  const contents = document.querySelectorAll('.tab-content');
  tabs.forEach(tab => {
    tab.onclick = () => {
      tabs.forEach(t => t.classList.remove('active'));
      contents.forEach(c => c.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.tab).classList.add('active');
    };
  });
});
</script>
</head>
<body>

<header>
<img src="https://github.com/shelbeely/Vox/releases/download/logo/logo.png" alt="Vox Logo" style="max-height:80px; vertical-align:middle; margin-right:1rem;">
<h1 style="display:inline-block; vertical-align:middle;">Vox Documentation</h1>
</header>

<div class="md3-tabs">
<div class="md3-tab active" data-tab="overview">Overview</div>
<div class="md3-tab" data-tab="howto">How To</div>
<div class="md3-tab" data-tab="architecture">Architecture</div>
<div class="md3-tab" data-tab="schema">Database</div>
</div>

<div id="overview" class="tab-content active">
<h2>Vox - A Voice Therapy Coach for Trans Individuals</h2>

<p>Vox is an open-source, affirming voice training web app designed specifically for trans people. It empowers users to explore, analyze, and develop their authentic voice through real-time feedback, personalized coaching, and inclusive design.</p>

<p>Created with pride by <a href="https://github.com/shelbeely">Shelbeely</a>, a trans woman developer.<br>
Licensed under GPL-3.0 â€” share the love, keep it open!</p>

<h3>Features</h3>
<ul>
<li>Real-Time Voice Analysis</li>
<li>Personalized Coaching</li>
<li>Pronoun Inclusivity</li>
<li>Target Pitch Practice</li>
<li>Session History</li>
<li>User Customization</li>
<li>Security & Fair Use</li>
</ul>

<h3>Setup & Installation</h3>
<ul>
<li>Python 3.8+, Node.js (optional)</li>
<li><code>pip install flask flask-socketio flask-wtf flask-limiter requests numpy librosa aubio</code></li>
<li>Set <code>FLASK_SECRET_KEY</code> and <code>OPENROUTER_API_KEY</code></li>
<li>Run: <code>python app.py</code></li>
<li>Access: <a href="http://localhost:5000">http://localhost:5000</a></li>
</ul>

<h3>Usage Guide</h3>
<ul>
<li>Record voice, get feedback</li>
<li>Set profile info</li>
<li>Practice with target pitch</li>
<li>Chat with Vox</li>
<li>Manage history</li>
</ul>
</div>

<div id="howto" class="tab-content">
<h2>Vox - Your Voice Journey Companion</h2>

<p>Welcome to Vox! This app is designed with love to help trans folks explore, train, and celebrate their authentic voice.</p>

<h3>What is Vox?</h3>
<p>A friendly voice coach that listens, gives real-time feedback, and offers supportive advice.</p>

<h3>Getting Started</h3>
<ol>
<li>Open Vox</li>
<li>Set your info</li>
<li>Save</li>
</ol>

<h3>Practicing</h3>
<ul>
<li>Start Recording</li>
<li>Speak or sing</li>
<li>Watch charts update</li>
<li>Stop Recording</li>
<li>Review history</li>
</ul>

<h3>Target Pitch</h3>
<ul>
<li>Set target Hz</li>
<li>Start tone</li>
<li>Match your voice</li>
<li>Stop tone</li>
</ul>

<h3>Chatting</h3>
<ul>
<li>Type message</li>
<li>Send</li>
<li>Vox replies</li>
</ul>

<h3>Clearing History</h3>
<ul>
<li>Click clear</li>
</ul>

<h3>Tips</h3>
<ul>
<li>Use headphones</li>
<li>Quiet space</li>
<li>Relax and be yourself!</li>
</ul>

<p>With love and pride, Vox Team</p>
</div>

<div id="architecture" class="tab-content">
<h2>Architecture Overview</h2>

<h2><span class="material-symbols-outlined">schema</span>Simplified System Diagram <div id="emoji-blossom" style="display:inline-block; width:36px; height:36px; vertical-align:middle;"></div></h2>

<svg viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg">
<defs>
<marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
<path d="M0,0 L0,6 L9,3 z" fill="#333" />
</marker>
<filter id="md3-shadow" x="-20%" y="-20%" width="140%" height="140%">
  <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity="0.2"/>
</filter>
</defs>
<!-- Client -->
<rect x="50" y="200" width="200" height="200" rx="16" ry="16" fill="#bbdefb" stroke="#1a73e8" stroke-width="2" filter="url(#md3-shadow)" />
<text x="150" y="225" font-size="14" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Client</text>
<text x="150" y="250" font-size="12" text-anchor="middle" fill="#1a1c1e">Record & Upload Audio</text>
<text x="150" y="275" font-size="12" text-anchor="middle" fill="#1a1c1e">View Feedback</text>
<text x="150" y="300" font-size="12" text-anchor="middle" fill="#1a1c1e">Chat with AI</text>
<!-- Web Layer -->
<rect x="300" y="150" width="200" height="300" rx="16" ry="16" fill="#c8e6c9" stroke="#34a853" stroke-width="2" filter="url(#md3-shadow)" />
<text x="400" y="175" font-size="14" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Web Server</text>
<text x="400" y="200" font-size="12" text-anchor="middle" fill="#1a1c1e">Flask + Socket.IO</text>
<!-- Processing -->
<rect x="550" y="100" width="250" height="400" rx="16" ry="16" fill="#fff9c4" stroke="#fbbc04" stroke-width="2" filter="url(#md3-shadow)" />
<text x="675" y="125" font-size="14" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Processing</text>
<text x="675" y="155" font-size="12" text-anchor="middle" fill="#1a1c1e">Audio Analysis</text>
<text x="675" y="175" font-size="10" text-anchor="middle" fill="#1a1c1e">librosa, aubio</text>
<text x="675" y="205" font-size="12" text-anchor="middle" fill="#1a1c1e">AI Feedback</text>
<text x="675" y="225" font-size="10" text-anchor="middle" fill="#1a1c1e">Gemini 2.0 Flash</text>
<text x="675" y="255" font-size="12" text-anchor="middle" fill="#1a1c1e">Chatbot</text>
<text x="675" y="275" font-size="10" text-anchor="middle" fill="#1a1c1e">OpenAI GPT</text>
<!-- Database -->
<rect x="850" y="150" width="300" height="300" rx="16" ry="16" fill="#bbdefb" stroke="#1a73e8" stroke-width="2" filter="url(#md3-shadow)" />
<text x="1000" y="175" font-size="14" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Data Storage</text>
<text x="925" y="210" font-size="12" text-anchor="middle" fill="#1a1c1e">Supabase DB</text>
<text x="1075" y="210" font-size="12" text-anchor="middle" fill="#1a1c1e">File Storage</text>
<text x="925" y="240" font-size="10" text-anchor="middle" fill="#1a1c1e">Users, Vocal Data</text>
<text x="1075" y="240" font-size="10" text-anchor="middle" fill="#1a1c1e">Recordings</text>
<!-- Arrows -->
<line x1="250" y1="300" x2="300" y2="300" stroke="#333" marker-end="url(#arrow)" />
<text x="275" y="290" font-size="10" text-anchor="middle">HTTP & Socket.IO</text>
<line x1="500" y1="250" x2="550" y2="250" stroke="#333" marker-end="url(#arrow)" />
<text x="525" y="240" font-size="10" text-anchor="middle">Audio & Requests</text>
<line x1="800" y1="250" x2="850" y2="250" stroke="#333" marker-end="url(#arrow)" />
<text x="825" y="240" font-size="10" text-anchor="middle">Store & Retrieve</text>
<line x1="850" y1="300" x2="800" y2="300" stroke="#333" marker-end="url(#arrow)" />
<text x="825" y="290" font-size="10" text-anchor="middle">User Data</text>
<line x1="550" y1="350" x2="500" y2="350" stroke="#333" marker-end="url(#arrow)" />
<text x="525" y="340" font-size="10" text-anchor="middle">Feedback & Chat</text>
<line x1="300" y1="350" x2="250" y2="350" stroke="#333" marker-end="url(#arrow)" />
<text x="275" y="340" font-size="10" text-anchor="middle">Responses</text>
</svg>

<h2><span class="material-symbols-outlined">sync_alt</span>Data Flow Diagram <div id="emoji-ribbon" style="display:inline-block; width:36px; height:36px; vertical-align:middle;"></div></h2>

<svg viewBox="0 0 1000 300" xmlns="http://www.w3.org/2000/svg">
<defs>
<marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
<path d="M0,0 L0,6 L9,3 z" fill="#333" />
</marker>
<filter id="md3-shadow" x="-20%" y="-20%" width="140%" height="140%">
  <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity="0.2"/>
</filter>
</defs>
<rect x="50" y="100" width="150" height="120" rx="12" ry="12" fill="#bbdefb" stroke="#1a73e8" stroke-width="2" filter="url(#md3-shadow)" />
<text x="125" y="125" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Client</text>
<text x="125" y="155" font-size="10" text-anchor="middle" fill="#1a1c1e">Audio + Metadata</text>
<rect x="250" y="100" width="150" height="120" rx="12" ry="12" fill="#c8e6c9" stroke="#34a853" stroke-width="2" filter="url(#md3-shadow)" />
<text x="325" y="125" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Web Server</text>
<text x="325" y="155" font-size="10" text-anchor="middle" fill="#1a1c1e">Flask + Socket.IO</text>
<rect x="450" y="100" width="150" height="120" rx="12" ry="12" fill="#fff9c4" stroke="#fbbc04" stroke-width="2" filter="url(#md3-shadow)" />
<text x="525" y="125" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Processing</text>
<text x="525" y="155" font-size="10" text-anchor="middle" fill="#1a1c1e">Analysis + AI</text>
<rect x="650" y="80" width="150" height="60" rx="10" ry="10" fill="#bbdefb" stroke="#1a73e8" stroke-width="1.5" filter="url(#md3-shadow)" />
<text x="725" y="100" font-size="10" text-anchor="middle" fill="#1a1c1e">Supabase DB</text>
<rect x="650" y="160" width="150" height="60" rx="10" ry="10" fill="#bbdefb" stroke="#1a73e8" stroke-width="1.5" filter="url(#md3-shadow)" />
<text x="725" y="190" font-size="10" text-anchor="middle" fill="#1a1c1e">File Storage</text>
<line x1="200" y1="150" x2="250" y2="150" stroke="#333" marker-end="url(#arrow)" />
<line x1="400" y1="150" x2="450" y2="150" stroke="#333" marker-end="url(#arrow)" />
<line x1="600" y1="150" x2="650" y2="110" stroke="#333" marker-end="url(#arrow)" />
<line x1="600" y1="150" x2="650" y2="190" stroke="#333" marker-end="url(#arrow)" />
<line x1="650" y1="110" x2="600" y2="150" stroke="#333" marker-end="url(#arrow)" />
<line x1="650" y1="190" x2="600" y2="150" stroke="#333" marker-end="url(#arrow)" />
<line x1="450" y1="200" x2="250" y2="200" stroke="#333" marker-end="url(#arrow)" />
<line x1="250" y1="200" x2="50" y2="200" stroke="#333" marker-end="url(#arrow)" />
<text x="225" y="140" font-size="10" text-anchor="middle">Audio Stream</text>
<text x="375" y="140" font-size="10" text-anchor="middle">Analysis Request</text>
<text x="625" y="100" font-size="10" text-anchor="end">Save Metrics</text>
<text x="625" y="180" font-size="10" text-anchor="end">Save Recording</text>
<text x="625" y="130" font-size="10" text-anchor="start">Fetch History</text>
<text x="625" y="210" font-size="10" text-anchor="start">Fetch Recording</text>
<text x="350" y="190" font-size="10" text-anchor="middle">Feedback</text>
<text x="150" y="190" font-size="10" text-anchor="middle">Display</text>
</svg>

<h2><span class="material-symbols-outlined">table_chart</span>Database Schema Diagram <div id="emoji-heart" style="display:inline-block; width:36px; height:36px; vertical-align:middle;"></div></h2>

<svg viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg">
<defs>
<filter id="md3-shadow" x="-20%" y="-20%" width="140%" height="140%">
  <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity="0.2"/>
</filter>
<marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
<path d="M0,0 L0,6 L9,3 z" fill="#333" />
</marker>
</defs>
<rect x="100" y="50" width="200" height="150" rx="12" ry="12" fill="#bbdefb" stroke="#1a73e8" stroke-width="2" filter="url(#md3-shadow)" />
<text x="200" y="70" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Users</text>
<text x="200" y="90" font-size="10" text-anchor="middle" fill="#1a1c1e">session_id (UUID)</text>
<text x="200" y="105" font-size="10" text-anchor="middle" fill="#1a1c1e">user_name (string)</text>
<text x="200" y="120" font-size="10" text-anchor="middle" fill="#1a1c1e">user_pronouns (string)</text>
<text x="200" y="135" font-size="10" text-anchor="middle" fill="#1a1c1e">target_gender (string)</text>
<rect x="400" y="50" width="250" height="180" rx="12" ry="12" fill="#c8e6c9" stroke="#34a853" stroke-width="2" filter="url(#md3-shadow)" />
<text x="525" y="70" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">VocalData</text>
<text x="525" y="90" font-size="10" text-anchor="middle" fill="#1a1c1e">session_id (UUID)</text>
<text x="525" y="105" font-size="10" text-anchor="middle" fill="#1a1c1e">timestamp (datetime)</text>
<text x="525" y="120" font-size="10" text-anchor="middle" fill="#1a1c1e">pitch (float)</text>
<text x="525" y="135" font-size="10" text-anchor="middle" fill="#1a1c1e">hnr (float)</text>
<text x="525" y="150" font-size="10" text-anchor="middle" fill="#1a1c1e">harmonics (JSON)</text>
<text x="525" y="165" font-size="10" text-anchor="middle" fill="#1a1c1e">formants (JSON)</text>
<text x="525" y="180" font-size="10" text-anchor="middle" fill="#1a1c1e">recording_path (string)</text>
<line x1="300" y1="125" x2="400" y2="125" stroke="#333" marker-end="url(#arrow)" />
<text x="350" y="115" font-size="10" text-anchor="middle" fill="#1a1c1e">session_id</text>
</svg>

<h2><span class="material-symbols-outlined">psychology</span>AI Feedback Pipeline <div id="emoji-smile" style="display:inline-block; width:36px; height:36px; vertical-align:middle;"></div></h2>

<svg viewBox="0 0 1000 200" xmlns="http://www.w3.org/2000/svg">
<defs>
<filter id="md3-shadow" x="-20%" y="-20%" width="140%" height="140%">
  <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity="0.2"/>
</filter>
<marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
<path d="M0,0 L0,6 L9,3 z" fill="#333" />
</marker>
</defs>
<rect x="50" y="50" width="200" height="100" rx="12" ry="12" fill="#bbdefb" stroke="#1a73e8" stroke-width="2" filter="url(#md3-shadow)" />
<text x="150" y="75" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Audio Features</text>
<text x="150" y="95" font-size="10" text-anchor="middle" fill="#1a1c1e">Pitch, HNR, Formants, Harmonics</text>
<rect x="300" y="50" width="200" height="100" rx="12" ry="12" fill="#fff9c4" stroke="#fbbc04" stroke-width="2" filter="url(#md3-shadow)" />
<text x="400" y="75" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Prompt Builder</text>
<text x="400" y="95" font-size="10" text-anchor="middle" fill="#1a1c1e">User info + Metrics</text>
<rect x="550" y="50" width="200" height="100" rx="12" ry="12" fill="#c8e6c9" stroke="#34a853" stroke-width="2" filter="url(#md3-shadow)" />
<text x="650" y="75" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Gemini 2.0 Flash</text>
<text x="650" y="95" font-size="10" text-anchor="middle" fill="#1a1c1e">Generate Feedback</text>
<rect x="800" y="50" width="150" height="100" rx="12" ry="12" fill="#bbdefb" stroke="#1a73e8" stroke-width="2" filter="url(#md3-shadow)" />
<text x="875" y="75" font-size="12" text-anchor="middle" font-weight="bold" fill="#1a1c1e">Client</text>
<text x="875" y="95" font-size="10" text-anchor="middle" fill="#1a1c1e">Display Feedback</text>
<line x1="250" y1="100" x2="300" y2="100" stroke="#333" marker-end="url(#arrow)" />
<line x1="500" y1="100" x2="550" y2="100" stroke="#333" marker-end="url(#arrow)" />
<line x1="750" y1="100" x2="800" y2="100" stroke="#333" marker-end="url(#arrow)" />
<text x="275" y="90" font-size="10" text-anchor="middle">Metrics</text>
<text x="525" y="90" font-size="10" text-anchor="middle">Prompt</text>
<text x="775" y="90" font-size="10" text-anchor="middle">Feedback</text>
</svg>

</div>

<div id="schema" class="tab-content">
<h2>Database Schema</h2>

<h3>Users Table</h3>
<pre><code>CREATE TABLE IF NOT EXISTS users (
    session_id UUID PRIMARY KEY,
    user_name TEXT NOT NULL,
    user_pronouns TEXT NOT NULL,
    target_gender TEXT DEFAULT 'unspecified'
);</code></pre>

<h3>Vocal Data Table</h3>
<pre><code>CREATE TABLE IF NOT EXISTS vocal_data (
    id SERIAL PRIMARY KEY,
    session_id UUID REFERENCES users(session_id) ON DELETE CASCADE,
    timestamp TIMESTAMP,
    pitch DOUBLE PRECISION,
    hnr DOUBLE PRECISION,
    harmonics JSONB,
    formants JSONB,
    recording_path TEXT
);</code></pre>
</div>

<footer>
<p>Made with love by <a href="https://github.com/shelbeely">Shelbeely</a></p>
</footer>

</body>
</html>
